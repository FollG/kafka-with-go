

listen_addresses = '*'
port = 5432
max_connections = 100
hba_file = '/etc/postgresql/pg_hba.conf'
shared_buffers = 128MB          # min 128kB
work_mem = 4MB                  # min 64kB
maintenance_work_mem = 64MB     # min 1MB
wal_level = replica             # minimal, replica, or logical
fsync = on                      # turns forced synchronization on or off
synchronous_commit = on         # synchronization level;
wal_sync_method = fsync         # the default is the first option
checkpoint_timeout = 5min       # range 30s-1d
max_wal_size = 1GB
min_wal_size = 80MB

# REPLICATION
max_wal_senders = 10           # max number of walsender processes
wal_keep_size = 1024           # in megabytes; 0 disables
max_replication_slots = 10     # max number of replication slots

# REPORTING AND LOGGING
logging_collector = on          # Enable capturing of stderr and csvlog
log_directory = 'pg_log'        # directory where log files are written
log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'
log_rotation_age = 1d           # Automatic rotation of logfiles after
log_rotation_size = 10MB        # Automatic rotation of logfiles after
log_min_duration_statement = 1000 # -1 is disabled, 0 logs all statements